疑似熱帯リザルト投稿Bot(熱帯ちゃん)取り扱い説明書  2021/10 @PopnYnw (わなう)

1. これは何？

Discordでpop'n music Livelyの疑似ネット対戦をするときに
リザルトを表示するためのBotの説明書です。
具体的なイメージは過去の対戦チャット欄をご参考に。

コマンドはだれでも送信できます。
混乱を避けるため、進行役1名が基本的な入力を行い、
スコアの入力だけは複数メンバで分担するのが良いと思います。

//help コマンドでも、概要が表示できます

※ Botが起動してないときは使えません

--------------------------------------------------------------------------------

2. 使い方
2.1. 最初の準備 : 対戦メンバーの登録

    以下のコマンドを使って、対戦メンバーを登録します

    * 追加
    //useradd/対戦者名
    //useradd/対戦者名1/対戦者名2/...

    * 削除
    //userdel/対戦者名
    //userdel/対戦者名1/対戦者名2/...

    * 全員削除
    //userdell/all

    * 登録状態の確認
    //userlist

    登録時、対戦者名に該当するアイコンが準備できてない場合は警告メッセージが表示されます。
    このままでも仮のアイコンが使われるため、この後の操作には影響ありません。
    アイコンを追加したい場合は付録参照。

2.2. 曲が決まったら : 曲バナーの登録

    以下のコマンドを使って、曲バナーを登録します。
    この時、コマンドと一緒にバナー画像を投稿する必要があります。

    //next

    バナー画像取得のためのツール「bannerGetter.exe」を起動し、
    pon'n music Livelyを"ウィンドウモード"で起動します。
    選曲された楽曲にカーソルを合わせてバナーを画面に表示します。

    [バナー取得]ボタンを押すと、Livelyの画面から楽曲バナーが取り込まれます。
    ツールの画面上にバナーが正しく表示されればOKです。
    画像がコピーされているので、そのままDiscordに張り付けられます。


    Livelyの楽曲を購入していない、などの理由でバナーが準備できなかった場合のために、
    仮のバナーを作成する機能もあります。 //next/曲名 と入力すると、"曲名"の文字列で仮のバナーを作ります。
    あまりカッコよくないので非推奨です。

    ※ 別の手段で取得したバナー画像を利用することもできますが、リザルト表示が崩れる可能性があります
    ※ Livelyの曲バナーは定期的にアニメーションが入るので、上手いタイミングで取り込んでください。
    ※ バナーがうまく取得できない場合、この説明書末尾の付録を参照してください。

2.3. 対戦後にすること - 1 : スコア入力

    以下のコマンドを使って、各メンバーのスコア、コンボ、クリア状態を入力します。

    //score/名前/スコア/コンボ/クリア状態(※)
    例: //score/わなう/98000/456/f

    ★ このコマンドを入力する機会が一番多いので、いくつか簡略入力する方法があります。
    1. コマンド名の省略
        //score を省略して、 //s でもOKです。
    2. 名前の簡易入力
        名前のかわりに、//userlist コマンドで表示される各自のIDを入力してもOKです。
        例: //userlist
            → (  1) : スコア未 : わなう
            と表示された場合、「わなう」のかわりに「1」と入力できます。
    1,2を合わせると、以下のように書けます。
    例: //s/1/98000/456/f

    ※ クリア状態は、以下の文字を入力してください
        b または B : ボーダークリア
        c または C : クリア
        f または F : フィーバークリア
        その他     : 未クリア

2.4. 対戦後にすること - 2 : リザルト画像の投稿

    あらかじめ登録されている全員のスコアが入力されると、自動でリザルトが投稿されます。

    メンバの増減などの影響で全員のスコアが入力できない状態の場合、
    以下のコマンドを入力することで、リザルトを投稿できます。
    このとき、スコアが入力されていないメンバーは、結果の集計から無視します。

    //result

    次の曲を行う場合は、2.3の手順に戻ります。

    ※ 対戦時に加算されるポイントについては、この説明書末尾の付録を参照してください。

2.5. 連戦の最後にすること

    以下の操作はオプションです。単発試合では使いません。

    //total
        これまで行われた全ての試合の結果をまとめた画像と、
        これまで行われた全ての試合の平均スコアとポイントの集計結果を投稿します。

    //reset
        これまで行われた試合のデータをリセットします。

--------------------------------------------------------------------------------

3. その他

    - Botの動作異常、説明書の誤字脱字などが見つかった場合はご報告ください。

--------------------------------------------------------------------------------

A. 付録

・アイコンの追加について

    以下のコマンドを入力すると、アイコン画像をBotに登録できます。

    //iconadd/名前

    この時、コマンドと一緒にアイコン画像を投稿する必要があります。

・バナーの取得について

    デフォルトではLivelyのウィンドウにある固定位置の画面を取得します。
    あくまで「バナーの位置」にある画面を記録するので、Livelyのウィンドウの上に
    他のウィンドウがあると上手くとれません。

    以下のオプションモードもあります。
    [バナー取得]ボタンの右にある入力欄に文字を入れて切り替えます。

    - auto
        デフォルトのモードです。特に理由が無ければこのまま使ってください。
    - <バナー取得基準X座標>,<バナー取得基準Y座標>
        例: 120,240
        指定した位置をバナーの左上位置として画像を取得します。
        ツールがLivelyを認識しない場合などに使ってください。
    - <バナー開始X座標>,<バナー開始Y座標>,<バナー終了X座標>,<バナー終了Y座標>
        例: 120,240,480,360
        指定した位置をバナーの左上位置/右下位置として画像を取得します。
        上手く使えばCSの対戦でも使えるかもしれません。
        縦横比率がおかしいと、結果画像が歪んでしまうかもしれません。


・対戦後に加算されるポイントについて

    1曲ごとに、参加者の上位半分(切り上げ)に順番にポイントが与えられます。
        2人: 1pt, 0pt
        3人: 2pt, 1pt, 0pt
        4人: 2pt, 1pt, 0pt, 0pt
        5人: 3pt, 2pt, 1pt, 0pt , 0pt
        6人: 3pt, 2pt, 1pt, 0pt , 0pt, 0pt
        などなど。

    スコアが同じ時は同じポイントになります。
    (他のユーザの順位にかかわらず、自分の順位に対応するポイントが与えられます)
        5人の例
        同率1位 (1位, 1位, 3位, 4位, 5位): 3pt, 3pt, 1pt, 0pt , 0pt
        同率2位 (1位, 2位, 2位, 4位, 5位): 3pt, 2pt, 2pt, 0pt , 0pt
        同率3位 (1位, 2位, 3位, 3位, 5位): 3pt, 2pt, 1pt, 1pt , 0pt
        などなど。

以上です！
